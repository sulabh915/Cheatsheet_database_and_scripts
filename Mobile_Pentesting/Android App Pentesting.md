
ADB cheatsheet :
```bash
adb devices
adb devices -l
adb -s emulator-5554 shell (select specific device using id)
adb shell getprop <string> (view specific property of devices or all property without strings)
adb shell (get interactive shell of mobile devices)
adb reboot (reboot android)
adb push filename /sdcard (push file to android devices)
adb pull filename /sdcard/DCIM/file.txt (pull file to android devices)
adb exec-out screencap -p > ./pic.png (take screenshot)
adb shell screenrecord "/sdcard/vidfile.mp4" (screenrecord it , pull out video with pull command)
adb shell input tap 628 1311 (click anywhere using the co-ordinate)
adb shell input text "youtube" (write text in phone)
adb shell input keyevent 4 (various keyevent number for click particular key like back button)
adb shell pm list packages  (list all the app installed)
pm path <package_name>  (where actual app is installed)
adb install path/to/app.apk
adb uninstall com.whatsapp

using the wireless debugging mode:
adb pair <ip addres>:<port> show in phone wireless debug option
adb connect <ip adddress>:<differet port>


adb shell dumpsys battery set level 30


other resources:
https://medium.com/@anandrishav2228/adb-commands-for-android-pentester-3cfde8c39d8b
https://www.automatetheplanet.com/adb-cheat-sheet/
https://gist.github.com/Pulimet/5013acf2cd5b28e55036c82c91bd56d8
https://github.com/Kardelio/easy-dumpsys
https://3os.org/android/adb-cheat-sheet/
```




Reverse Engineering app :
```bash
# 1. Decompile APK
apktool d app.apk -o app_decompiled with -r,-s for avoid resources file
# 2. (Optional) Modify smali, manifest, resources

# 3. Rebuild the APK
apktool b app_decompiled -o app-unsigned.apk

# 4. Zipalign
zipalign -v 4 app-unsigned.apk app-aligned.apk

# 5. Create keystore (only once)
keytool -genkey -v -keystore mykey.jks -alias myalias -keyalg RSA -keysize 2048 -validity 10000

# 6. Sign the APK
apksigner sign --ks mykey.jks app-aligned.apk

# 7. Verify
apksigner verify app-aligned.apk

#more info:
dex2jar classes.dex
open in jadx-gui
```

| Tool                          | Command                                                                                               | Purpose                                        |
| ----------------------------- | ----------------------------------------------------------------------------------------------------- | ---------------------------------------------- |
| **Apktool (decompile)**       | `apktool d myapp.apk -o output_folder`                                                                | Extract APK files into readable structure      |
| **Apktool (skip resources)**  | `apktool d -r -s myapp.apk -o output_folder`                                                          | Decompile only code/manifest (no XML/images)   |
| **Apktool (recompile)**       | `apktool b output_folder -o my-new-app.apk`                                                           | Rebuild the modified APK                       |
| **Zipalign**                  | `zipalign -v 4 my-new-app.apk aligned.apk`                                                            | Optimize APK structure for performance         |
| **Keytool (create keystore)** | `keytool -genkey -v -keystore my-key.jks -alias alias_name -keyalg RSA -keysize 2048 -validity 10000` | Creates a signing key to sign APKs             |
| **Apksigner (sign APK)**      | `apksigner sign --ks my-key.jks aligned.apk`                                                          | Signs APK using your keystore                  |
| **Apksigner (verify)**        | `apksigner verify signed.apk`                                                                         | Verifies if APK has a valid signature          |
| **dex2jar**                   | `dex2jar classes.dex`                                                                                 | Converts `classes.dex` → `classes-dex2jar.jar` |
| **JD-GUI**                    | Open `classes-dex2jar.jar` in JD-GUI                                                                  | View Java source code for analysis             |

Look for Hardcoded credentials and other sensitive information using this keyword list:

```bash
#!/bin/bash

TARGET_DIR="./decompiled_apk" # Change to your folder

echo "📦 Scanning APK source in: $TARGET_DIR"

KEYWORDS=(
  # Secrets & API Keys
  "api_key" "apikey" "token" "auth_token" "access_token" "secret" "client_secret" "jwt"
  "Bearer" "Basic" "base64" "license_key" "credentials" "ENC(" "ENCRYPTED"

  # Authentication & Sessions
  "login" "logout" "checkLogin" "auth" "validate" "verify" "session_token" "pin" "OTP"

  # Admin Logic & Overrides
  "admin" "isAdmin" "isRoot" "debugOverride" "bypass" "isSuperuser"

  # Exported Components & Intents
  "android:exported=" "intent-filter" "getIntent" "putExtra" "startActivity" "bindService"

  # File & Data Storage
  "SharedPreferences" "openFileOutput" "MODE_WORLD_READABLE" "FileOutputStream"
  "getExternalStorageDirectory" "Environment.getExternalStorage"

  # Encryption & Hashing
  "Cipher" "MessageDigest" "SecureRandom" "SHA1" "SHA256" "MD5" "AES" "RSA"
  "Base64.encode" "Base64.decode"

  # Database & SQL
  "SQLiteDatabase" "rawQuery" "execSQL" "insert" "RoomDatabase" "FirebaseDatabase"
  "Realm.getInstance" "onCreate" "onUpgrade" "cursor" "SELECT" "WHERE" "JOIN"
  "password" "user_id" "credit_card" "otp"

  # WebView Risks
  "setJavaScriptEnabled" "addJavascriptInterface" "WebView" "loadUrl" "evaluateJavascript"
  "setWebContentsDebuggingEnabled"

  # Debug & Test Flags
  "isDebuggable" "Log.d" "Log.e" "System.out.println" "debug_token" "fakeLogin" "developer_mode"

  # Cloud & SDKs
  "Firebase" "GoogleApiClient" "S3Client" "AWSAccessKey" "Stripe" "Paypal"
  "Crashlytics" "FacebookSdk" "Mixpanel"
)

for keyword in "${KEYWORDS[@]}"; do
  echo -e "\n🔍 Searching for: $keyword"
  grep -rni --color=always "$keyword" "$TARGET_DIR" 2>/dev/null
done

echo -e "\n✅ Scan complete."

```


Start any activity that having android:exported = true:
```bash
am start b3nac.injuredandroid/.b25Activity
```

Hunting for storage bucket :
```bash
./cloud_enum.py -k somecompany -k somecompany.io -k blockchaindoohickey other automated tools
```

Using aws cli for verify :
```bash
aws configure --profile injuredandroid #supply your aws id and aws secret found from leak   
aws s3 ls s3://<bucket-name> --profile injuredandroid 
```

Hunting for firebase database:
```bash
https://github.com/Sambal0x/firebaseEnum

look for firebase url like this 
https://injuredandroid.firebaseio.com/flags/.json
checkout is there any directory in code which is used and used .json trick to get file content as show above in code.
```

using mobfs:
```bash
docker pull opensecurity/mobile-security-framework-mobsf:latest
docker run -it --rm -p 8000:8000 opensecurity/mobile-security-framework-mobsf:latest

# Default username and password: mobsf/mobsf
```